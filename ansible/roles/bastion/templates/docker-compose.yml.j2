services:
  nginx:
    image: docker.io/library/nginx:1.27-alpine
    container_name: rp-nginx
    restart: unless-stopped
    ports: [ "80:80", "443:443" ]
    volumes:
      - /etc/nginx:/etc/nginx:ro
      - /var/log/nginx:/var/log/nginx
      - /etc/nginx/tls:/etc/nginx/tls:ro
    healthcheck:
      test: ["CMD","nginx","-t"]
      interval: 30s
      timeout: 5s
      retries: 3